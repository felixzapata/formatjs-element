<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="polymer-intl-import.html">

<script>
  (function() {
    'use strict';

  /**
   * intl-behavior
   * =======================
   *
   * `Polymer.intlBehavior` provides a normalized interface to localize values using Format.JS library.
   *
   * #### Usage
   *
   * 1) Add Polymer.l10nBehavior to the behaviors list in the JS file or script of your component:
   *
   * ```js
   * behaviors: [Polymer.intlBehavior]
   * ```
   *
   * 2) Import the behavior in your HTML:
   *
   * ```html
   * <link rel="import" href="../polymer-intl/polymer-intl-behavior.html">
   * ```
   *
   *
   * ```
   *
   * @polymerBehavior intlBehavior
   * @demo
   */

    Polymer.intlBehavior = {
   
        properties: {
          intlMsg: {
            type: Object,
            value: function() {
              return {};
            }
          },
          defaultLang: {
            type: String,
            value: 'en-US'
          }
        },

        attached: function() {
          if (!window.Intl && typeof window.Intl !== 'object'){
            console.log('You have no support for ECMAScript Internationalization API Specification');
          }
        },
        ready: function(){
          
        },
        /**
        * Translate a string.
        *
        * @param {String} msg String to translate.
        * @param {Object} values Values to pass to the message.
        * @param {String} language (optional) The language to translate the text. By defualt, the language to localize is English.
        * @return {String} Localized text.
        */
        translate: function(msg, values, language){
          if (typeof language === 'undefined') {
            language = this.defaultLang;
          }
          var intl = new IntlMessageFormat(msg, language);
          return intl.format(values);
          
        }
        
        
    };
  })();</script>